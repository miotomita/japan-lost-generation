<!DOCTYPE html>
<html>
	<head>
    	<meta charset="utf-8" />
    	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
    	<title>Japan's Lost Generation</title>
    	<meta name="description" content="Scrollama: Sticky Overlay Example" />
    	<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css" />
    	<link rel="stylesheet" href="style.css" />
    	<style>
			#scrolly {
        		position: relative;
        		background-color: #f3f3f300;
        		padding: 1rem;
      		}

      		article {
        		position: relative;
        		padding: 0;
        		max-width: 30rem;
        		margin: 0 auto;
      		}

      		.sticky-thing {
        		position: -webkit-sticky;
        		position: sticky;
        		/* left: 0; */
        		/* width: 100%; */
				max-width: 1000px;
        		margin: 0;
        		z-index: 0;
        		top: 12.5vh;
        		height: 75vh;
        		/* Center everything inside */
        		display: flex;
        		align-items: center;
        		justify-content: center;
      		}

	  		.sticky-thing iframe {
				position: center;
				display: center; 
				align-items: center;
				top: 0;
				width: 100%;
				height: 100%;
			}

      		.sticky-thing p {
        		font-size: 8rem;
        		font-weight: 900;
        		color: #fff;
      		}

      		.step {
        		margin: 0 auto 2rem auto;
				margin-bottom: 20rem;
        		color: #fff;
        		background-color: rgba(0, 0, 0, 0.1);
      		}

      		.step:last-child {
        		margin-bottom: 0;
      		}

      		.step.is-active p {
        		background-color: #f5f3f35c;
        		color: #3b3b3b;
      		}

      		.step p {
        		text-align: center;
        		padding: 1rem;
        		font-size: 1.5rem;
        		background-color: rgba(255, 255, 255, 0.556);
				color: #3b3b3b;
      		}
    	</style>
	</head>

  	<body>
    	<main>
      		<section id="intro">
        		<h1 class="intro__hed">Title of the article: Japan's Lost Generation</h1>
        		<p class="intro__dek">
					intro_dek sentence
        		</p>
				<br>
				<br>
				<div class="container content">
					<p><i>By Mio Tomita<br>July 21, 2022</i></p>
					<p><i>introductory paragraph</i></p>
				</div>
      		</section>
	  	
			<!-- scrolly-part1 -->
      		<section id="scrolly">
        		<div class="sticky-thing">
					<iframe title="Interest in  &quot;Lost Generation&quot; surged after the assassination of the former Prime Minister Shinzo Abe" aria-label="Interactive line chart" id="datawrapper-chart-Thzyd" src="https://datawrapper.dwcdn.net/Thzyd/4/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="undefined"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();
					</script>	
				</div>

        		<article>
					<div class="step" data-step="red">
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
          			<div class="step" data-step="blue">
            			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
          			<div class="step" data-step="green">
            			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
          			<div class="step" data-step="orange">
            			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
        		</article>
      		</section>

			<!-- scrolly-part2 -->
			<section id="scrolly">
        		<div class="sticky-thing">
					<iframe title="Population in 2022" aria-label="Interactive area chart" id="datawrapper-chart-yUWsO" src="https://datawrapper.dwcdn.net/yUWsO/9/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="524"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();
					</script>
				</div>

        		<article>
					<div class="step" data-step="red">
						<p>ABC</p>
          			</div>
          			<div class="step" data-step="blue">
            			<p>DEF</p>
          			</div>
          			<div class="step" data-step="green">
            			<p>GHI</p>
          			</div>
          			<div class="step" data-step="orange">
            			<p>XYZ</p>
          			</div>
        		</article>
      		</section>			

			<!-- scrolly-part3 -->
			<section id="scrolly">
        		<div class="sticky-thing">
					<iframe title="Population in 2050" aria-label="Interactive area chart" id="datawrapper-chart-CYYjc" src="https://datawrapper.dwcdn.net/CYYjc/2/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="524"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();
					</script>
				</div>
        		<article>
					<div class="step" data-step="red">
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
          			<div class="step" data-step="blue">
            			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
          			<div class="step" data-step="green">
            			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
          			<div class="step" data-step="orange">
            			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
        		</article>
      		</section> 

			<!-- scrolly-part4 -->	
      		</section>
			  <section id="scrolly">
				<div class="sticky-thing">
					<img src="./output/job_hunting.jpg" max-width:80%; height:auto; alt="Blue-Footed Booby"/>
				</div>
				<article>
					<div class="step" data-step="red">
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
          			<div class="step" data-step="blue">
            			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
          			<div class="step" data-step="green">
            			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
          			<div class="step" data-step="orange">
            			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
        		</article>
      		</section>

			<!-- scrolly-part5 -->
			<section id="scrolly">
        		<div class="sticky-thing">
					<iframe title="The lost generation  started job hunting after the economic bubble burst" aria-label="Interactive line chart" id="datawrapper-chart-iuqpi" src="https://datawrapper.dwcdn.net/iuqpi/1/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="473"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
				</div>
        		<article>
					<div class="step" data-step="red">
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
          			<div class="step" data-step="blue">
            			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
          			<div class="step" data-step="green">
            			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
          			<div class="step" data-step="orange">
            			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          			</div>
        		</article>			
      		<section id="outro"></section>
			</main>
    	<!-- <div class='debug'></div> -->
    	<script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
    	<script src="https://unpkg.com/scrollama"></script>
    	
		<script>
      		var main = document.querySelector("main");
      		var scrolly = main.querySelector("#scrolly");
      		var sticky = scrolly.querySelector(".sticky-thing");
      		var article = scrolly.querySelector("article");
      		var steps = article.querySelectorAll(".step");
      		// initialize the scrollama
      		var scroller = scrollama();

      		// scrollama event handlers
      		function handleStepEnter(response) {
        		// response = { element, direction, index }
        		var el = response.element;
        		// remove is-active from all steps
        		// then add is-active to this step
        		steps.forEach(step => step.classList.remove('is-active'));
        		el.classList.add('is-active');
        		// update graphic based on step
        		sticky.querySelector("p").innerText = el.dataset.step;
			}

      		function init() {
        		// 2. setup the scroller passing options
        		// 		this will also initialize trigger observations
        		// 3. bind scrollama event handlers (this can be chained like below)
        		scroller
				.setup({
					step: "#scrolly article .step",
            		offset: 0.33,
            		debug: false
				})
          		.onStepEnter(handleStepEnter);
        		// setup resize event
        		window.addEventListener("resize", scroller.resize);
			}

      		// kick things off
      		init();
		</script>
		<br>
		<br>
		<div class="plot-holder">
			<center><p>aaaaaaaabbbbbbbbccccc</p></center>
			<br>
			<br>
			<iframe title="Thousands of middle-aged people in Japan are neither working nor learning" aria-label="Stacked Bars" id="datawrapper-chart-4JTZn" src="https://datawrapper.dwcdn.net/4JTZn/1/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="482"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
		</div>

		<center><p>aaaaaaaabbbbbbbbccccc</p></center>
		<br>
		<br>
		<iframe title="Less than 1 in 6 part-time employees can receive retirement benefit" aria-label="Split Bars" id="datawrapper-chart-3TTlR" src="https://datawrapper.dwcdn.net/3TTlR/1/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="358"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
		<center><p>aaaaaaaabbbbbbbbccccc</p></center>
		<br>
		<br>  
	</body>
</html>